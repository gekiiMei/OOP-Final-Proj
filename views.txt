CREATE VIEW finals.vwSchedule AS
SELECT sc.subject_code as "Subject Code"
      ,s.description as "Subject"
      ,sc.day as "Day"
      ,sc.time as "Time"
      ,sc.room as "Room"
      ,sc.type as "Modality"
      ,(e.first_name || ' ' || e.last_name) as "Faculty"
FROM finals.SUBJECT_SCHEDULE sc
INNER JOIN finals.SUBJECT s
    ON sc.subject_code = s.subject_code
INNER JOIN finals.EMPLOYEE e
    ON sc.faculty_id = e.employee_id;

CREATE VIEW vwCollegeInfo AS
    SELECT
        college_code "COLLEGE CODE"
        , description "DESCRIPTION"
    FROM finals.COLLEGE;

CREATE VIEW vwSubjectInfo AS
    SELECT
        subject_code "SUBJECT CODE"
        , description "DESCRIPTION"
    FROM finals.SUBJECT;

CREATE VIEW vwStudentInfo AS
    SELECT
        student_no "STUDENT NO"
        , last_name "LASTNAME"
        , first_name "FIRSTNAME"
        , MI
    FROM finals.STUDENT;

CREATE VIEW vwEmployeeInfo AS
    SELECT
        employee_id "EMPLOYEE ID"
        , last_name "LASTNAME"
        , first_name "FIRSTNAME"
    FROM finals.EMPLOYEE;

CREATE VIEW vwGrade_StudentInfo AS
    SELECT 
        stu.STUDENT_NO
        , stu.FIRST_NAME
        , stu.LAST_NAME
        , stu.MI
        , stu.GENDER
        , stu.COURSE_CODE 
        , c.DESCRIPTION COURSE_DESC
        , stu.EMAIL
        , stu.STATUS
    FROM finals.STUDENT stu
        INNER JOIN finals.COURSE c
            ON stu.COURSE_CODE = c.COURSE_CODE;

CREATE VIEW vwClassList AS
    SELECT
        ensub.SY
        , ensub.SEMESTER
        , ensub.STUDENT_NO "STUDENT NO"
        , stu.LAST_NAME "LAST NAME"
        , stu.FIRST_NAME "FIRST NAME"
        , stu.MI
        , ensub.SUBJECT_CODE "SUBJECT CODE"
        , ensub.BLOCK_NO "BLOCK NO"
    FROM finals.ENROLLED_SUBJECT ensub
        INNER JOIN finals.STUDENT stu
            ON ensub.STUDENT_NO = stu.STUDENT_NO
        INNER JOIN finals.SUBJECT sub
            ON ensub.SUBJECT_CODE = sub.SUBJECT_CODE
    WHERE ensub.STATUS = 'Enrolled'
    ORDER BY ensub.SUBJECT_CODE;
