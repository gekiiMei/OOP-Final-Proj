
CREATE VIEW vwCollegeInfo AS
    SELECT
        college_code "COLLEGE CODE"
        , description "DESCRIPTION"
    FROM finals.COLLEGE;

CREATE VIEW vwSubjectInfo AS
    SELECT
        subject_code "SUBJECT CODE"
        , description "DESCRIPTION"
    FROM finals.SUBJECT;

CREATE VIEW vwStudentInfo AS
    SELECT
        student_no "STUDENT NO"
        , last_name "LASTNAME"
        , first_name "FIRSTNAME"
        , MI
    FROM finals.STUDENT;

CREATE VIEW vwEmployeeInfo AS
    SELECT
        employee_id "EMPLOYEE ID"
        , last_name "LASTNAME"
        , first_name "FIRSTNAME"
    FROM finals.EMPLOYEE;

CREATE VIEW vwGrade_StudentInfo AS
    SELECT 
        stu.STUDENT_NO
        , stu.FIRST_NAME
        , stu.LAST_NAME
        , stu.MI
        , stu.GENDER
        , stu.COURSE_CODE 
        , c.DESCRIPTION COURSE_DESC
        , stu.EMAIL
        , stu.STATUS
    FROM finals.STUDENT stu
        INNER JOIN finals.COURSE c
            ON stu.COURSE_CODE = c.COURSE_CODE;

CREATE VIEW vwClassList AS
    SELECT
        ensub.SY
        , ensub.SEMESTER
        , ensub.STUDENT_NO "STUDENT NO"
        , stu.LAST_NAME "LAST NAME"
        , stu.FIRST_NAME "FIRST NAME"
        , stu.MI
        , ensub.SUBJECT_CODE "SUBJECT CODE"
        , ensub.BLOCK_NO "BLOCK NO"
    FROM finals.ENROLLED_SUBJECT ensub
        INNER JOIN finals.STUDENT stu
            ON ensub.STUDENT_NO = stu.STUDENT_NO
        INNER JOIN finals.SUBJECT sub
            ON ensub.SUBJECT_CODE = sub.SUBJECT_CODE
    WHERE ensub.STATUS = 'Enrolled'
    ORDER BY ensub.SUBJECT_CODE;


CREATE VIEW finals.vwSchedule AS
SELECT en.SY 
      ,en.SEMESTER
      ,en.STUDENT_NO
      ,en.SUBJECT_CODE as "Subject code"
      ,en.BLOCK_NO as "Block"
      ,s.DESCRIPTION as "Subject"
      ,sc.DAY as "Day"
      ,sc.TIME as "Time"
      ,sc.ROOM as "Room"
      ,sc.TYPE as "Modality"
      ,en.SEQUENCE_NO
      ,(e.first_name || ' ' || e.last_name) as "Faculty"
FROM finals.ENROLLED_SUBJECT en
INNER JOIN finals.SUBJECT_SCHEDULE sc
    ON en.SY = sc.SY AND en.SEMESTER = sc.SEMESTER AND en.SUBJECT_CODE = sc.SUBJECT_CODE AND en.BLOCK_NO = sc.BLOCK_NO AND en.SEQUENCE_NO = sc.SEQUENCE_NO
INNER JOIN finals.SUBJECT s
    ON en.SUBJECT_CODE = s.SUBJECT_CODE
INNER JOIN finals.EMPLOYEE e
    ON sc.FACULTY_ID = e.EMPLOYEE_ID;

CREATE VIEW finals.vwSER AS
SELECT en.SY 
      ,en.SEMESTER
      ,en.STUDENT_NO
      ,en.SUBJECT_CODE as "Subject code"
      ,en.BLOCK_NO as "Block"
      ,s.DESCRIPTION as "Subject"
      ,S.UNITS as "Units"
      ,sc.DAY as "Day"
      ,sc.TIME as "Time"
      ,sc.ROOM as "Room"
      ,sc.TYPE as "Modality"
      ,en.SEQUENCE_NO
      ,(e.first_name || ' ' || e.last_name) as "Faculty"
FROM finals.ENROLLED_SUBJECT en
INNER JOIN finals.SUBJECT_SCHEDULE sc
    ON en.SY = sc.SY AND en.SEMESTER = sc.SEMESTER AND en.SUBJECT_CODE = sc.SUBJECT_CODE AND en.BLOCK_NO = sc.BLOCK_NO AND en.SEQUENCE_NO = sc.SEQUENCE_NO
INNER JOIN finals.SUBJECT s
    ON en.SUBJECT_CODE = s.SUBJECT_CODE
INNER JOIN finals.EMPLOYEE e
    ON sc.FACULTY_ID = e.EMPLOYEE_ID;
